[database]

# For the embedded DB: org.hsqldb.jdbcDriver
# For PostgreSQL: org.postgresql.Driver
classname = <%=
    if @database == 'postgres'
      'org.postgresql.Driver'
    elsif @database == 'embedded'
      'org.hsqldb.jdbcDriver'
    end
%>

# For the embedded DB: hsqldb
# For PostgreSQL: postgresql
subprotocol = <%=
    if @database == 'postgres'
        'postgresql'
    elsif @database == 'embedded'
        'hsqldb'
    end
%>

# For the embedded DB: file:/path/to/database;hsqldb.tx=mvcc;sql.syntax_pgs=true
# For PostgreSQL: //host:port/databaseName
subname = <%=
    if @database == 'postgres'
        # TODO: make port and dbname configurable
        "//#{@database_host}:5432/puppetdb"
    elsif @database == 'embedded'
        'file:/usr/share/puppetdb/db/db;hsqldb.tx=mvcc;sql.syntax_pgs=true'
    end
%>

# Connect as a specific user
# username = foobar
<%= if @database == 'postgres'
        # TODO: make username configurable
        "username = puppetdb"
    end %>

# Use a specific password
# password = foobar
<%= if @database == 'postgres'
        # TODO: make username configurable
        "password = puppetdb"
    end %>

# How often (in minutes) to compact the database
# gc-interval = 60
